# 組み込みシステムテストシステム

## 概要

組み込みシステム向けのマルチエージェントテスト設計・実行システムです。人間による介入をサポートし、組み込みシステムの特性に適したテスト手法を提供します。

## システム構成

### 2つのアプリケーションサーバー

1. **テスト設計アプリケーション** (ポート5000)
   - マルチエージェントによるテスト要求分析
   - テスト設計書の自動生成
   - テスト項目書の作成

2. **テスト実行アプリケーション** (ポート5001)
   - 組み込みシステム向けテスト実行
   - 人間による介入のサポート
   - テスト結果の管理・エクスポート

## 特徴

### 組み込みシステム向け評価手法

| スタイル | 特徴 | 例 |
|---------|------|-----|
| Human-in-the-Loop Driven | 人間による確認・判断をシナリオに組み込む | LED確認など |
| Manual Trigger Driven | 人間がトリガーを操作することが前提 | スイッチ操作、検体セットなど |
| Observer Driven | 人間やセンサーが観察して結果を判断 | 音・振動・光など |
| Semi-Automated BDD | 自動+手動のハイブリッド設計 | ステップごとに自動化可能性を評価 |

## セットアップ

### 前提条件

- Python 3.8以上
- Ollamaサーバー（ローカルまたはリモート）

### インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd multiagent_testdoc
```

2. 依存関係をインストール
```bash
pip install -r requirements.txt
```

3. Ollamaサーバーを起動
```bash
ollama serve
```

4. 必要なモデルをダウンロード
```bash
ollama pull llama3.2
```

## 使用方法

### システム起動

```bash
python start_apps.py
```

両方のアプリケーションが同時に起動します：
- テスト設計アプリ: http://localhost:5000
- テスト実行アプリ: http://localhost:5001

### ワークフロー

1. **機能仕様書のアップロード**
   - テスト設計アプリで機能仕様書（Markdown形式）をアップロード
   - マルチエージェントがテスト要求を分析

2. **テスト設計の実行**
   - 4つのエージェントが並行してテスト設計を実行
   - 要求分析、テスト設計、品質保証、リスク分析

3. **テストケースのダウンロード**
   - 生成されたテストケースをCSV形式でダウンロード

4. **テスト実行**
   - テスト実行アプリでテストケースをアップロード
   - 実行スタイルを選択（Human-in-the-Loop等）
   - 人間による介入を含むテスト実行

5. **結果のエクスポート**
   - テスト実行結果をCSV形式でエクスポート
   - 人間による介入記録も含む

## アーキテクチャ

### テスト設計システム

```
機能仕様書
    ↓
マルチエージェントシステム
    ↓
テスト要求分析
    ↓
テスト設計書
    ↓
テスト項目書
```

### テスト実行システム

```
テスト項目書
    ↓
テスト実行エージェント
    ↓
人間による介入
    ↓
テスト結果
    ↓
フィードバック
```

## ディレクトリ構造

```
multiagent_testdoc/
├── test_design_app/          # テスト設計アプリケーション
│   ├── app.py               # メインアプリケーション
│   └── templates/           # HTMLテンプレート
├── test_execution_app/       # テスト実行アプリケーション
│   ├── app.py               # メインアプリケーション
│   └── templates/           # HTMLテンプレート
├── inputreq/                # 機能仕様書保存ディレクトリ
│   └── sample_spec.md       # サンプル仕様書
├── test_results/            # テスト結果保存ディレクトリ
├── multiagent/              # 既存のマルチエージェントシステム
├── start_apps.py           # システム起動スクリプト
├── requirements.txt         # 依存関係
└── README.md               # このファイル
```

## 技術仕様

### 使用技術

- **バックエンド**: Python, Flask, SocketIO
- **フロントエンド**: HTML5, CSS3, JavaScript, Bootstrap
- **AI/ML**: Ollama, LLM
- **データ形式**: JSON, CSV

### エージェント構成

#### テスト設計エージェント
- **Requirements_Analyst**: 要求分析エキスパート
- **Test_Designer**: テスト設計エキスパート
- **Quality_Assurance**: 品質保証エキスパート
- **Risk_Analyst**: リスク分析エキスパート

#### テスト実行エージェント
- **Test_Executor**: テスト実行エージェント
- **Human_Interface**: 人間介入インターフェース
- **Result_Analyzer**: 結果分析エージェント

## トラブルシューティング

### よくある問題

1. **Ollamaサーバーに接続できない**
   - Ollamaサーバーが起動しているか確認
   - `ollama serve` を実行

2. **アプリケーションが起動しない**
   - ポート5000, 5001が使用中でないか確認
   - 依存関係が正しくインストールされているか確認

3. **テスト設計が失敗する**
   - 機能仕様書の形式を確認
   - Ollamaモデルが利用可能か確認

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

プルリクエストやイシューの報告を歓迎します。

## 連絡先

ご質問やフィードバックがある場合は、イシューを作成してください。 